%% Mermaid Class Diagram: agent_trace.jsonl schema
classDiagram
  class AgentTraceEntry {
    +id: string
    +timestamp: string
    +git_revision?: GitRevision
    +files: File[]
  }
  
  class File {
    +relative_path: string
    +conversations: Conversation[]
  }
  class Conversation {
    +url?: string
    +contributor?: Contributor
    +classification?: string
    +ast_node_type?: string
    +intent_id?: string
    +ranges: Range[]
    +related?: Related[]
  }
  class Range {
    +start_line: number
    +end_line: number
    +content_hash: string
  }
  class Contributor {
    +entity_type: string
    +model_identifier: string
  }
  class Related {
    +type: string
    +value: string
  }
  class GitRevision {
    +commit?: string
    +branch?: string
    +status?: string
  }

  AgentTraceEntry --> File
  File --> Conversation
  Conversation --> Range
  Conversation --> Contributor
  Conversation --> Related
  AgentTraceEntry --> GitRevision

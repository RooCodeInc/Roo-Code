%% Mermaid Class Diagram: agent_trace.jsonl schema
classDiagram
  class AgentTraceEntry {
    +id: string
    +timestamp: string
    +vcs: {revision_id?: string}
    +files: File[]
  }
  class File {
    +relative_path: string
    +conversations: Conversation[]
  }
  class Conversation {
    +url?: string
    +contributor?: Contributor
    +classification?: REFACTOR|FEATURE|BUGFIX
    +ast_node_type?: string
    +ranges: Range[]
    +related?: Related[]
  }
  class Range {
    +start_line: number
    +end_line: number
    +content_hash: sha256:hex
  }
  class Contributor {
    +entity_type: AI|Human
    +model_identifier: string
  }
  class Related {
    +type: string
    +value: string
  }

  AgentTraceEntry --> File
  File --> Conversation
  Conversation --> Range
  Conversation --> Contributor
  Conversation --> Related

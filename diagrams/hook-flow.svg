<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" width="1000" height="420" viewBox="0 0 1000 420">
  <style>
    .box { fill:#fff; stroke:#3a6fb0; stroke-width:2px; rx:6; }
    .step { fill:#f0f7ff; stroke:#4a8ad0; stroke-width:1.5px; rx:6; }
    .text { font-family: Arial, Helvetica, sans-serif; font-size:13px; fill:#111; }
    .arrow { stroke:#666; stroke-width:2; marker-end: url(#arr); }
  </style>
  <defs>
    <marker id="arr" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666" />
    </marker>
  </defs>

  <rect class="box" x="40" y="20" width="200" height="60" />
  <text class="text" x="60" y="55">Agent Request</text>

  <rect class="step" x="300" y="20" width="220" height="60" />
  <text class="text" x="320" y="40">PreToolUse Hooks</text>
  <text class="text" x="320" y="60">(safety, scope, concurrency)</text>

  <rect class="step" x="300" y="120" width="220" height="60" />
  <text class="text" x="320" y="155">Human Approval</text>

  <rect class="step" x="620" y="20" width="220" height="60" />
  <text class="text" x="640" y="55">Execute Tool</text>

  <rect class="step" x="620" y="120" width="220" height="60" />
  <text class="text" x="640" y="155">PostToolUse Hooks</text>

  <line class="arrow" x1="240" y1="50" x2="300" y2="50" />
  <line class="arrow" x1="520" y1="50" x2="620" y2="50" />
  <line class="arrow" x1="520" y1="140" x2="620" y2="140" />
  <line class="arrow" x1="740" y1="80" x2="740" y2="120" />

  <rect x="40" y="220" width="200" height="60" fill="#fff7e6" stroke="#c48a00" stroke-width="2" rx="6" />
  <text class="text" x="60" y="255">Trace Logger</text>
  <line class="arrow" x1="740" y1="150" x2="240" y2="250" />

  <text class="text" x="40" y="340">Notes: Pre-hooks should be fast and side-effect-free; post-hooks may run formatters, linters, or security checks and feed feedback into agent context.</text>
</svg>

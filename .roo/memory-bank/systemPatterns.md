# أنماط النظام والهندسة المعمارية

## نظرة عامة على البنية

```
┌─────────────────────────────────────────────────────────────┐
│                    Roo Code Extension                        │
├─────────────────────────────────────────────────────────────┤
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────────────┐  │
│  │  Activate   │  │    API      │  │    Core Services    │  │
│  │  Module     │  │   Layer     │  │                     │  │
│  └─────────────┘  └─────────────┘  └─────────────────────┘  │
│        │               │                    │                │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────────────┐  │
│  │  Services   │  │  Providers  │  │  Code Index Service │  │
│  │  Layer      │  │  (AI Models)│  │                     │  │
│  └─────────────┘  └─────────────┘  └─────────────────────┘  │
└─────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────┐
│                   webview-ui (React)                         │
│  ┌───────────┐  ┌───────────┐  ┌─────────────────────────┐  │
│  │  Chat     │  │  Settings │  │      Components         │  │
│  │  Panel    │  │  Panel    │  │                         │  │
│  └───────────┘  └───────────┘  └─────────────────────────┘  │
└─────────────────────────────────────────────────────────────┘
```

## المكونات الرئيسية

###src/ - امتداد VS Code

- **activate/**: تفعيل الامتداد والتسجيل
- **api/**: طبقة API ونماذج الذكاء الاصطناعي
- **core/**: الخدمات الأساسية (الموافقة التلقائية، تجاهل الملفات)
- **services/**: خدمات الفهرسة والبحث
- **i18n/**: دعم اللغات المتعددة

###webview-ui/ - واجهة المستخدم

- React UI components
- i18n translations
- Theme support

## أنماط التصميم المستخدمة

1. **Provider Pattern**: للتعامل مع نماذج AI المختلفة
2. **Service Layer**: لعزل المنطق التجاري
3. **Event-Driven**: للتواصل بين المكونات
4. **Monorepo**: باستخدام pnpm workspace

## قرارات تقنية مهمة

- TypeScript لجميع الأكواد
- React للواجهة الأمامية
- Turbo للبناء المتعدد الحزم
- Zod للتحقق من البيانات
